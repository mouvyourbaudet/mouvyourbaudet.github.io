<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../myb-performance/myb-performance-item.html">

<dom-module id="myb-last-performance">
  <style>
    paper-card {
      width: 100%;
    }
  </style>
  <template>
    <firebase-collection
            order-by-child="endDate"
            start-at="{{now}}"
            order-value-type="number"
            location="https://myb.firebaseio.com/performances"
            data="{{performances}}"></firebase-collection>
    <paper-card>
      <template is="dom-if" if="[[performances]]">
    <template is="dom-repeat" items="[[performances]]" as="item">
      <myb-performance-item item="{{item}}"></myb-performance-item>
      </template>
      </template>

      <template is="dom-if" if="[[!performances]]">
      <div class="card-content">Aucune prestation pr√©vue</div>
      </template>
    </paper-card>

  </template>

  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'myb-last-performance',
        ready:function(){
          this.now = new Date().getTime()/1000;
        }

      });
    })();
  </script>

</dom-module>
