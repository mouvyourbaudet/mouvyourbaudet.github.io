<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../myb-photo/myb-album-item.html">

<dom-module id="myb-last-album">
  <style>
    myb-album-item {
      width: 400px;
    }
  </style>

  <template>
    <iron-ajax
      auto
      url="{{url(user)}}"
      handle-as="json"
      last-response="{{data}}"></iron-ajax>

    <myb-album-item item="{{data.feed.entry.0}}"></myb-album-item>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'myb-last-album',
    properties: {
      user: String,
      data: Object
    },
    url: function (user) {
      return 'https://picasaweb.google.com/data/feed/api/user/' + user + '?alt=json&max-results=1&kind=album';
    }
  });
</script>
